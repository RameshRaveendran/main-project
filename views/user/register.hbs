<link rel="stylesheet" href="/styles/userlogin.css" />

<div class="container right-panel-active" id="container">

  <!-- sign Up form section start-->
  <div class="form sign_up">
    <form method="post" action="/user/register" id="registerForm">
      <h1>Create An Account</h1>

      <div class="social-container">
        {{! add logo here }}
      </div>

      <span>Use email for registration</span>

      <input type="text" name="name" id="name" placeholder="User Name" />
      <input type="email" name="email" id="email" placeholder="Email" />
      <input type="password" name="password" id="password" placeholder="Password" />
      <input type="password" name="cpassword" id="cpassword" placeholder="Confirm Password" />

      <button type="submit">Create Account</button>
    </form>
  </div>
  <!-- sign Up form section end-->


  <!-- sign in form section start-->
  <div class="form sign_in">
    <form id="loginForm">
      <h1>Login In</h1>

      <div class="social-container">
        {{! add logo here }}
      </div>

      <span>Login with your account</span>

      <input type="email" placeholder="Email" />
      <input type="password" placeholder="Password" />

      <button>Login</button>
    </form>
  </div>
  <!-- sign in form section end-->


  <!-- overlay section start -->
  <div class="overlay-container">
    <div class="overlay">

      <div class="overlay-pannel overlay-left">
        <h1>Already have an account?</h1>
        <p>Please login</p>
        <button id="signIn" class="overBtn">Sign In</button>
      </div>

      <div class="overlay-pannel overlay-right">
        <h1>Create Account</h1>
        <p>Start your journey with us</p>
        <button id="signUp" class="overBtn">Sign Up</button>
      </div>

    </div>
  </div>
  <!-- overlay section end -->
</div>


<script>
  const signUpButton = document.getElementById("signUp");
  const signInButton = document.getElementById("signIn");
  const container = document.getElementById("container");

  // switch UI
  signUpButton.addEventListener("click", () => {
    container.classList.add("right-panel-active");
  });

  signInButton.addEventListener("click", () => {
    container.classList.remove("right-panel-active");
  });

  // Validation
  document.addEventListener("DOMContentLoaded", function () {
    const registerForm = document.getElementById("registerForm");

    registerForm.addEventListener("submit", function (e) {
      if (!formValidate()) {
        e.preventDefault(); // stop form only if validation fails
      }
    });
  });

  function formValidate() {
    const email = document.getElementById("email").value.trim();
    const password = document.getElementById("password").value.trim();
    const confirmPassword = document.getElementById("cpassword").value.trim();

    if (!email || !password || !confirmPassword) {
      Swal.fire("All fields are required");
      return false;
    }

    if (password !== confirmPassword) {
      Swal.fire("Passwords do not match");
      return false;
    }

    return true; // allow form submission
  }
</script>
